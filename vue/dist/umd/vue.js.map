{"version":3,"file":"vue.js","sources":["../../src/util/index.js","../../src/observer/array.js","../../src/observer/dep.js","../../src/observer/index.js","../../src/state.js","../../src/observer/watcher.js","../../src/vdom/patch.js","../../src/lifecyle.js","../../src/compiler/parser-html.js","../../src/compiler/index.js","../../src/init.js","../../src/vdom/create-element.js","../../src/render.js","../../src/index.js"],"sourcesContent":["// 实现一个代理效果\nexport function proxy (vm, source, key) {\n    Object.defineProperty(vm, key, {\n        get () {\n            return vm[source][key];\n        },\n        set (newVal) {\n            vm[source][key] = newVal;\n        }\n    })\n}\nexport function isObjext (data) {\n    return typeof data === 'object' && data !== null;\n}\nexport function def (data, key, value) {\n    return Object.defineProperty(data, key, {\n        value: value,\n        enumerable: false,\n        configurable: false\n    })\n}\n","const oldArrayMetods = Array.prototype;\nexport const arrayMethods = Object.create(oldArrayMetods);\nconst methods = [\n    'push',\n    'shift',\n    'unshift',\n    'pop',\n    'sort',\n    'splice',\n    'reverse'\n]\nmethods.forEach(key => {\n    arrayMethods[key] = function (...args) {\n        let result = oldArrayMetods[key].apply(this,args);\n        let inserted;\n        let ob = this.__ob__;\n        switch (key) {\n            case 'push':\n            case 'unshift':\n                inserted = args;\n                break;\n            case 'splice': // 3个  新增的属性 splice 有删除 新增的的功能 arr.splice(0,1,{name:1})\n                inserted = args.slice(2)\n            default:\n                break;\n        }\n        if (inserted) {\n            ob.observeArray(inserted);\n        }\n        return result\n    }\n})\n","let id = 0;\nclass Dep {\n    constructor() {\n        this.id = id++;\n        this.subs = [];\n    }\n    addSub (watcher) {\n        this.subs.push(watcher); // 观察者模式\n    }\n    depend () {\n        // 让这个watcher 记住我当前的dep,如果watcher没存过dep ，dep肯定不能存过watcher\n        Dep.target.addDep(this);\n    }\n    notify(){\n        this.subs.forEach(watcher=>watcher.update())\n    }\n}\nlet stack = [];\n\n// 目前可以做到 将watcher保留起来 和 移除的功能\nexport function pushTarget(watcher){\n    Dep.target = watcher;\n    stack.push(watcher);\n}\nexport function popTarget(){\n    stack.pop();\n    Dep.target = stack[stack.length -1];\n}\n\nexport default Dep\n","import { isObjext, def } from '../util/index.js';\nimport { arrayMethods } from './array';\nimport Dep from './dep';\nclass Observer {\n    constructor(value) {\n        this.dep = new Dep;\n        def(value, '__ob__', this);\n        if (Array.isArray(value)) {\n            value.__proto__ = arrayMethods;\n            this.observeArray(value);\n        } else {\n            // 对对象进行观测\n            this.walk(value);\n        }\n    }\n    walk (data) {\n        let keys = Object.keys(data);\n        keys.forEach(key => {\n            defineReactive(data, key, data[key]);\n        })\n    }\n    observeArray (data) {\n        data.forEach(item => {\n            observe(item);\n        })\n    }\n}\nfunction defineReactive (data, key, value) {\n    let dep = new Dep(); // 这个dep 是为了给对象使用的\n    observe(value);\n    Object.defineProperty(data, key, {\n        get () {\n            if (Dep.target) {\n                dep.depend();\n            }\n            return value;\n        },\n        set (newVal) {\n            if (newVal === value) {\n                return;\n            } else {\n                observe(newVal); // 新赋的值也可以是一个对象\n                value = newVal;\n                dep.notify(); // 通知依赖的watcher来进行一个更新操作\n            }\n        }\n    });\n}\nexport function observe (data) {\n    if (!isObjext(data)) {\n        return;\n    }\n    return new Observer(data);\n}\n","import { proxy } from './util/index.js';\nimport { observe } from './observer/index.js';\n\nexport function initState (vm) {\n    const opts = vm.$options;\n    // vue的数据来源 属性 方法 数据 计算属性 watch\n    if (opts.props) {\n        initProps(vm);\n    }\n    if (opts.methods) {\n        initMethod(vm);\n    }\n    if (opts.data) {\n        initData(vm);\n    }\n    if (opts.computed) {\n        initComputed(vm);\n    }\n    if (opts.watch) {\n        initWatch(vm);\n    }\n}\nfunction initProps (vm) { };\nfunction initMethod (vm) { };\nfunction initData (vm) {\n    // 数据初始化\n    let data = vm.$options.data;\n    data = typeof data === 'function' ? data.call(vm) : data; // call(vm)保证data方法的this指向vm\n    vm['_data'] = data;\n    // 做一个数据代理 vm.data.xxx === vm.xxx\n    for (let key in data) {\n        proxy(vm, '_data', key);\n    }\n    observe(data); // 响应式原理\n};\nfunction initComputed (vm) { };\nfunction initWatch (vm) { };\n","import { pushTarget, popTarget } from './dep';\nlet id = 0;\nclass Watcher {\n    constructor(vm, exprOrFn, callback, options) {\n        this.vm = vm;\n        this.callback = callback;\n        this.options = options;\n        this.id = id++;\n        this.getter = exprOrFn;\n        this.depsId = new Set();\n        this.deps = [];\n        this.get();\n    }\n    get () {\n        pushTarget(this); // 把watcher存起来  Dep.target = this\n        this.getter(); // 渲染watcher的执行\n        popTarget(); // 移除watcher\n    }\n    addDep(dep) { // watcher 里不能放重复的dep  dep里不能放重复的watcher\n        let id = dep.id;\n        if (!this.depsId.has(id)) {\n            this.depsId.add(id);\n            this.deps.push(dep);\n            dep.addSub(this);\n        }\n    }\n    update () {\n        this.get(); // 渲染watcher的执行\n    }\n    run () {\n        this.get();\n    }\n}\nexport default Watcher;\n","export function patch (oldVnode, vnode) {\n    let isRealElement = oldVnode.nodeType;\n    if (isRealElement) {\n        const oldElm = oldVnode;\n        const parentElm = oldElm.parentNode;\n        let el = createElm(vnode);\n        parentElm.insertBefore(el,oldElm.nextSibling)\n        parentElm.removeChild(oldElm);\n        return el;\n    }\n\n}\nfunction createElm (vnode) {\n    let { tag, children, key, data, text } = vnode;\n    if (typeof tag === 'string') {\n        vnode.el = document.createElement(tag);\n        updateProperties(vnode);\n        children.forEach(child => {\n            return vnode.el.appendChild(createElm(child))\n        });\n    } else {\n        vnode.el = document.createTextNode(text)\n    }\n    return vnode.el;\n}\nfunction updateProperties (vnode) {\n    let el = vnode.el;\n    let newProps = vnode.data;\n    for (let key in newProps) {\n        if (key === 'style') {\n            newProps.style = JSON.parse(newProps.style);\n            for(let styleName in newProps.style){\n                el.style[styleName] = newProps.style[styleName];\n            }\n        } else if (key === 'class') {\n            el.className = newProps.class;\n        } else {\n            el.setAttribute(key,newProps[key]);\n        }\n    }\n}\n","import Watcher from './observer/watcher';\nimport { patch } from './vdom/patch';\n\nexport function lifecycleMixin (Vue) {\n    Vue.prototype._update = function (vnode) {\n        const vm = this;\n        vm.$el = patch(vm.$el, vnode); // 需要用虚拟节点创建出真实节点 替换掉 真实的$el\n    }\n}\nexport function mountComponent (vm, el) {\n    vm.$el = el;\n    // 渲染页面\n    let updateComponent = () => {\n        vm._update(vm._render());\n    };\n    // 渲染watcher 每个组件都有一个watcher\n    new Watcher(vm, updateComponent, () => { }, true);\n}\n","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // abc-aaa\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; // <aaa:asdads>\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >  <div>\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\n\nconst ELEMENT_TYPE = 1;\nconst TEXT_TYPE = 3;\nlet root;\nlet currentParent;\nlet stack = [];\n\nfunction createASTElement(tagName, attrs) {\n    return {\n        tag: tagName,\n        type: ELEMENT_TYPE,\n        children: [],\n        attrs,\n        parent: null\n    }\n}\nfunction start (tagName, attrs) {\n    // 遇到开始标签 就创建一个ast元素s\n    let element = createASTElement(tagName, attrs);\n    if (!root) {\n        root = element;\n    }\n    currentParent = element; // 把当前元素标记成父ast树\n    stack.push(element); // 将开始标签存放到栈中\n}\nfunction end (tagName) {\n    let element = stack.pop();\n    let currentParent = stack[stack.length - 1];\n    if (currentParent) {\n        element.parent = currentParent;\n        currentParent.children.push(element);\n    }\n}\nfunction chars(text) {\n    text = text.replace(/\\s/g,'');\n    if(text){\n        currentParent.children.push({\n            text,\n            type:TEXT_TYPE\n        })\n    }\n}\nexport function parseHTML (html) {\n    while (html) {\n        let textEnd = html.indexOf('<');\n        if (textEnd === 0) {\n            // < 在开头的位置， 则肯定是一个标签 有可能是一个开始标签 也有可能是一个结束标签\n            let startTagMatch = parseStartTag(); // 匹配开始标签\n            if (startTagMatch) {\n                start(startTagMatch.tagName, startTagMatch.attrs); // 解析开始标签\n                continue;\n            }\n            let endTagMatch = html.match(endTag);\n            if (endTagMatch) {\n                advance(endTagMatch[0].length);\n                end(endTagMatch[1]); // 2解析结束标签\n                continue;\n            }\n        }\n        let text;\n        if (textEnd >= 0) {\n            text = html.substring(0, textEnd);\n        }\n        if (text) {\n            advance(text.length);\n            chars(text); // 3解析文本\n        }\n    };\n    function parseStartTag () {\n        let start = html.match(startTagOpen);\n        if (start) {\n            const match = {\n                tagName: start[1],\n                attrs: []\n            };\n            advance(start[0].length); // 进行字符串截取\n            let end, attr;\n            while(!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\n                advance(attr[0].length);\n                match.attrs.push({\n                    name: attr[1],\n                    value: attr[3] || attr[4] || attr[5]\n                });\n            }\n            if (end) { // // 去掉开始标签的 >\n                advance(end[0].length);\n                return match;\n            };\n        };\n    };\n    function advance (n) {\n        html = html.substring(n);\n    }\n    return root;\n}\n","import { parseHTML } from './parser-html';\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\nfunction genProps (attrs) {\n    if (!attrs.length) return 'undefined';\n    let obj = {};\n    attrs.forEach(element => {\n        if (element.name === 'style') {\n            element.value.split(';').forEach(item => {\n                let [key, value] = item.split(':')\n                let subObj = {};\n                subObj[key] = value\n                obj[element.name] = JSON.stringify(subObj)\n            })\n        } else {\n            obj[element.name] = element.value;\n        }\n\n    });\n    return JSON.stringify({...obj});\n}\nfunction genChildren (el) {\n    let children = el.children;\n    if (children && children.length) {\n        return `${children.map(node => gen(node)).join(',')}`;\n    } else {\n        return false;\n    }\n}\nfunction gen (node) {\n    if (node.type === 1) {\n        return generate(node);\n    } else {\n        let text = node.text;\n        let tokens = [];\n        let match,index;\n        // 每次的偏移量 buffer.split()\n        let lastIndex = defaultTagRE.lastIndex = 0; // 只要是全局匹配 就需要将lastIndex每次匹配的时候调到0处\n        while(match = defaultTagRE.exec(text)){\n            index = match.index;\n            if(index > lastIndex){\n                tokens.push(JSON.stringify(text.slice(lastIndex,index)));\n            }\n            tokens.push(`_s(${match[1].trim()})`);\n            lastIndex = index + match[0].length;\n        }\n        if(lastIndex < text.length){\n            tokens.push(JSON.stringify(text.slice(lastIndex)))\n        }\n        return `_v(${tokens.join('+')})`;\n    }\n}\nfunction generate (el) {\n    let children = genChildren(el);\n    let code = `_c(\"${el.tag}\",${genProps(el.attrs)}${children ? `,${children}`: ''})`;\n    return code;\n}\nexport function compileToFunction (template) {\n    // 解析html字符串 将html => set语法树\n    let root = parseHTML(template);\n    // 将ast 语法树正常render函数 字符串拼接\n    // div id=\"app\"><p>{{name}}world</p></div>\n    // _c(标签，属性，子标签，子标签。。。。) _v() => 生产文本 _S() JSON.Stringfy\n    // 最终是_c('div',{id:app},_c('p',undefined,_s(name)),_v(world))\n    let code = generate(root);\n    let renderFn = new Function(`with(this){ return ${code}}`);\n    return renderFn;\n}\n\n","import { initState } from \"./state\";\nimport { mountComponent } from './lifecyle';\nimport { compileToFunction } from './compiler/index';\n\nexport function initMixin (Vue) {\n    Vue.prototype._init = function (options) {\n\n        const vm = this;\n        vm.$options = options;\n\n        // 初始化状态\n        initState(vm);\n\n        // 渲染页面\n        if (vm.$options.el) {\n            vm.$mount(vm.$options.el);\n        };\n\n    }\n    Vue.prototype.$mount = function (el) {\n        let vm = this;\n        el = document.querySelector(el);\n        let template = el.outerHTML;\n        const render = compileToFunction(template);\n        vm.$options.render = render;\n        mountComponent(vm, el);\n    }\n}\n","export function createElement(tag, data = {}, ...children) {\n    let key = data.key;\n    if(key){\n        delete data.key;\n    }\n    return vnode(tag,data,key,children,undefined);\n}\nexport function createTextNode(text) {\n    return vnode(undefined,undefined,undefined,undefined,text);\n}\n\nfunction vnode(tag, data, key, children, text) {\n    return {\n        tag,\n        data,\n        key,\n        children,\n        text\n    }\n}\n// 虚拟节点 就是通过_c _v 实现用对象来描述dom的操作 （对象）\n\n// 1) 将template转换成ast语法树-> 生成render方法 -> 生成虚拟dom -> 真实的dom\n//  重新生成虚拟dom -> 更新dom\n\n","import { createElement, createTextNode } from './vdom/create-element';\nexport function renderMixin (Vue) {\n    Vue.prototype._render = function (el) {\n        const vm = this;\n        const {\n            render\n        } = vm.$options;\n        let vnode = render.call(vm); // 去实例上 取值\n\n        return vnode;\n    }\n    Vue.prototype._c = function () {\n        return createElement(...arguments);\n    }\n    Vue.prototype._v = function (text) {\n        return createTextNode(text);\n    }\n    Vue.prototype._s = function (val) {\n        return val == null ? '' : (typeof val === 'object' ? JSON.stringify(val) : val);\n    }\n}\n","import { initMixin } from './init.js';\nimport { lifecycleMixin } from './lifecyle.js';\nimport { renderMixin } from './render.js';\n\nfunction Vue (options) {\n    this._init(options);\n}\ninitMixin(Vue); // 给Vue原型上添加一个_init方法\nrenderMixin(Vue);\nlifecycleMixin(Vue);\nexport default Vue;\n"],"names":["proxy","vm","source","key","Object","defineProperty","get","set","newVal","isObjext","data","def","value","enumerable","configurable","oldArrayMetods","Array","prototype","arrayMethods","create","methods","forEach","args","result","apply","inserted","ob","__ob__","slice","observeArray","id","Dep","subs","watcher","push","target","addDep","update","stack","pushTarget","popTarget","pop","length","Observer","dep","isArray","__proto__","walk","keys","defineReactive","item","observe","depend","notify","initState","opts","$options","props","initData","computed","watch","call","Watcher","exprOrFn","callback","options","getter","depsId","Set","deps","has","add","addSub","patch","oldVnode","vnode","isRealElement","nodeType","oldElm","parentElm","parentNode","el","createElm","insertBefore","nextSibling","removeChild","tag","children","text","document","createElement","updateProperties","child","appendChild","createTextNode","newProps","style","JSON","parse","styleName","className","setAttribute","lifecycleMixin","Vue","_update","$el","mountComponent","updateComponent","_render","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","ELEMENT_TYPE","TEXT_TYPE","root","currentParent","createASTElement","tagName","attrs","type","parent","start","element","end","chars","replace","parseHTML","html","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","match","advance","substring","attr","name","n","defaultTagRE","genProps","obj","split","subObj","stringify","genChildren","map","node","gen","join","generate","tokens","index","lastIndex","exec","trim","code","compileToFunction","template","renderFn","Function","initMixin","_init","$mount","querySelector","outerHTML","render","undefined","renderMixin","_c","arguments","_v","_s","val"],"mappings":"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"}